<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Beware the Garbage Man's Scope</title>
   <meta name="author" content="" />

   <!--- Blueprint CSS Framework -->
   <link rel="stylesheet" href="/css/blueprint/screen.css" type="text/css" media="screen, projection">
   <link rel="stylesheet" href="/css/blueprint/print.css" type="text/css" media="print">
   <!--[if IE]>
      <link rel="stylesheet" href="/css/blueprint/ie.css" type="text/css" media="screen, projection">
   <![endif]-->

   <!-- CodeRay syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/coderay.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/site.css" type="text/css" media="screen, projection" />
</head>
<body>

<div class="container">

   <div class="column span-20 prepend-2 append-2 first last" id="header">
     <p class="title"><a href="/">JunctionBox.ca</a></p>
     <p><a href="/articles/">Articles</a> | <a href="/resources/">Resources</a> | <a href="/nathan-fisher.html">Contact</a></p>
     <hr/>
   </div>

   <div class="column span-15 prepend-2 first">
      <p>Garbage collection can be an amazing resource to the developer, except when you forget its there as I did in a recent project.  I&#8217;ll be honest I started cutting my teeth on x86 assembler and C++. The mantra of the day was, don&#8217;t assume anything and clean up after yourself. Unless you&#8217;re trying to piss off the neighbours, which is never of any real benefit.  The simplified example of what happened is a variable initialization like so;<br />
\n@new Tween( pages, &#8220;rotation&#8221;, Elastic.easeOut, src, dest, duration, true );@</p>
<p>You can only guess how dirty I felt typing it, looking at it, breathing it in and digesting it.  It was wrong and I knew it. Its only reason for existence was laziness coupled with a 3am sugar buzz.  I figured, &#8220;Why create a member variable? I don&#8217;t care what happens to it after its done its deed.&#8221;</p>
<p>Unfortunately I didn&#8217;t realize how wrong it was until seemingly at random its expected effect would get tossed like <a href="http://www.foxmovies.com/fightclub/">Marla&#8217;s bridesmaid dress</a>.  Intensely loved for a moment, and unwittingly thrown to the curbside the second the garbage collector came along. I did a whole lot of <em>unnecessary</em> dancing around to debug why something so foolish wasn&#8217;t working 20% of the time. It was random, I wanted to pull out my hair.  I think there were brief moments where I actually did.  I finally gave it a big b-tch slap and applied some brute force using a &#8220;watchdog&#8221; timer that snapped it into the destination angle.  The timer was jarring to the user, it was a defeat for me, but it ensured the content was accessible instead of periodically ending in a rotation somewhere between here and Timbuktu.</p>
<p>I published the site only to shortly after find my salvation in the comments on Adobe&#8217;s Flash 9 Livedocs.  I cursed myself immensely at its simplicity, and my foolishness.  The simple fact of the matter is I didn&#8217;t take into account scope. I applied C++ assumptions of variable life time, whilst at the same time discarding the method for proper clean-up, a reference to the original object.</p>
<h3>Conclusion</h3>
<p>In the future kids don&#8217;t play with matches, and if you want an object to last beyond a methods or functions scope make sure it is referenced outside of that method.</p>
<pre>
private var _rotation_tween:Tween;
public function rotatePage( dest ):void {
 _rotation_tween = new Tween( pages, "rotation", Elastic.easeOut, src, dest, duration, true );
}
</pre>
   </div>

   <div class="column span-5 append-2 last">
      <div class="box">
      <h4>About JunctionBox.ca</h4>
      <p><a href="http://junctionbox.ca/">JunctionBox.ca</a> is the online blog of Nathan Fisher.  I'm a computer geek who loves the outdoors.  During the week you'll find me bridging the gap between developers and operations as a <a href="http://en.wikipedia.org/wiki/DevOps">DevOp</a> at ThoughtWorks, in London.</p>
      </div>

			<h5>Recent Articles</h5>
			<ul>

<li><a href="/articles/2008/09/04/ruby-be-nimble--ruby-be-swf---.html">Ruby be nimble, Ruby be SWF...</a></li>


<li><a href="/articles/2008/08/26/watch-for-flying-bitmaps.html">Watch for Flying Bitmaps</a></li>


<li><a href="/articles/2008/07/25/beware-the-garbage-man-s-scope.html">Beware the Garbage Man's Scope</a></li>


<li><a href="/articles/2008/07/04/regular-expression---parsed-elation.html">Regular Expression & Parsed Elation</a></li>


<li><a href="/articles/2008/06/26/scrollpane-woes-to-fix-the-flow.html">Scrollpane Woes to Fix the Flow</a></li>


<li><a href="/articles/2008/06/26/subversive-lyrics-with-subversion.html">Subversive Lyrics with Subversion</a></li>


<li><a href="/articles/2006/04/17/rsync-daily-snapshots.html">Rsync Daily Snapshots</a></li>

			</ul>
			

      <h5>Blog Roll</h5>
			<ul>
			<li><a href="http://dailyinteractive.ca/">DailyInteractive.ca</a></li>
			<li><a href="http://migz.ca/">Migz.ca</a></li>
			<li><a href="http://etlgfx.com/">ETL gfx</a></li>
			<li><a href="http://littlekitchen.ca/">Little Kitchen</a></li>
			<li><a href="http://matthewkantor.com/">Matthew Kantor</a></li>
			<li><a href="http://continuousdelivery.com/">Continous Delivery - Jez Humble</a></li>
			<li><a href="http://www.samnewman.org/">Sam Newman</a></li>
			</ul>
   </div>

   <div class="column span-20 prepend-2 append-2 first last" id="footer">
     <hr />
     <p><a href="/articles/">Articles</a> | <a href="/resources/">Resources</a> | <a href="/nathan-fisher.html">Contact</a> | All content written by Nathan Fisher unless otherwise noted.</p>
   </div>

</div>
</body>
</html>
